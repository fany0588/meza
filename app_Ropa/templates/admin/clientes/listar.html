{% extends 'admin/base_admin.html' %}

{% block title %}GestiÃ³n de Clientes - Panel Administrador{% endblock %}
{% block page_title %}GestiÃ³n de Clientes{% endblock %}

{% block content %}
<div class="content-box">
    <!-- BÃºsqueda -->
    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
        <form method="get" style="display: flex; gap: 15px; align-items: end;">
            <div class="form-group" style="flex: 1;">
                <label>Buscar cliente:</label>
                <input type="text" name="search" class="form-control" placeholder="Nombre, apellido o email..." value="{{ request.GET.search }}">
            </div>
            <button type="submit" class="btn btn-primary">ğŸ” Buscar</button>
            <a href="{% url 'admin_clientes' %}" class="btn" style="background: #6c757d; color: white;">ğŸ”„ Limpiar</a>
        </form>
    </div>

    <!-- Tabla de clientes -->
    <div class="table-container">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Email</th>
                    <th>TelÃ©fono</th>
                    <th>Ciudad</th>
                    <th>Fecha Registro</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for cliente in clientes %}
                <tr>
                    <td>
                        <strong>{{ cliente.nombre }} {{ cliente.apellido }}</strong>
                    </td>
                    <td>{{ cliente.email }}</td>
                    <td>{{ cliente.telefono }}</td>
                    <td>{{ cliente.ciudad }}</td>
                    <td>{{ cliente.fecha_registro|date:"d/m/Y" }}</td>
                    <td>
                        <a href="{% url 'detalle_cliente' cliente.id %}" class="btn btn-primary btn-sm">ğŸ‘ï¸ Ver</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px;">
                        No se encontraron clientes
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}